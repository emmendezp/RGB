<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ejercicio 3 # Ejercicio 3
Research some dither visual apps. Dithering # Es una técnica usada en computación gráfica para crear la ilusión de profundidad de color en imágenes con una paleta de colores limitada. En una imagen tramada, los colores no disponibles en la paleta se aproximan por una difusión de píxeles de color dentro de la gama de colores disponibles. El ojo humano percibe la difusión como una mezcla de los colores dentro de ésta."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Ejercicio 3 # Ejercicio 3
Research some dither visual apps. Dithering # Es una técnica usada en computación gráfica para crear la ilusión de profundidad de color en imágenes con una paleta de colores limitada. En una imagen tramada, los colores no disponibles en la paleta se aproximan por una difusión de píxeles de color dentro de la gama de colores disponibles. El ojo humano percibe la difusión como una mezcla de los colores dentro de ésta."><meta property="og:type" content="article"><meta property="og:url" content="https://emmendezp.github.io/RGB/docs/Ejercicios/Ejercicio3/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-09-11T23:23:19-05:00"><title>Ejercicio3 | Computacion Visual 2022-2 RGB</title><link rel=manifest href=/RGB/manifest.json><link rel=icon href=/RGB/favicon.png type=image/x-icon><link rel=stylesheet href=/RGB/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/RGB/flexsearch.min.js></script>
<script defer src=/RGB/en.search.min.2e9e0c976dd99e76a4c54cdd4f879d1d24545be270c3a7ec5df4affad02480f9.js integrity="sha256-Lp4Ml23ZnnakxUzdT4edHSRUW+Jww6fsXfSv+tAkgPk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/RGB/><span>Computacion Visual 2022-2 RGB</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-bab8b9365022340ebec5653746d3d735 class=toggle checked>
<label for=section-bab8b9365022340ebec5653746d3d735 class="flex justify-between"><a href=/RGB/docs/Ejercicios/>Ejercicios</a></label><ul><li><a href=/RGB/docs/Ejercicios/Ejercicio1/>Ejercicio1</a></li><li><a href=/RGB/docs/Ejercicios/Ejercicio2/>Ejercicio2</a></li><li><a href=/RGB/docs/Ejercicios/Ejercicio3/ class=active>Ejercicio3</a></li></ul></li><li><input type=checkbox id=section-9370f1a5d0248572ac505e0c6d4ad190 class=toggle>
<label for=section-9370f1a5d0248572ac505e0c6d4ad190 class="flex justify-between"><a href=/RGB/docs/shortcodes/>Shortcodes</a></label><ul><li><a href=/RGB/docs/shortcodes/buttons/>Buttons</a></li><li><a href=/RGB/docs/shortcodes/columns/>Columns</a></li><li><a href=/RGB/docs/shortcodes/details/>Details</a></li><li><a href=/RGB/docs/shortcodes/hints/>Hints</a></li><li><a href=/RGB/docs/shortcodes/katex/>Katex</a></li><li><a href=/RGB/docs/shortcodes/mermaid/>Mermaid</a></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/RGB/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/RGB/docs/shortcodes/p5/div/>Div</a></li><li><a href=/RGB/docs/shortcodes/p5/iframe/>Iframe</a></li></ul></li><li><a href=/RGB/docs/shortcodes/tabs/>Tabs</a></li></ul></li><li><input type=checkbox id=section-042d3f228c0d48b7873225f7fc71e929 class=toggle>
<label for=section-042d3f228c0d48b7873225f7fc71e929 class="flex justify-between"><a href=/RGB/docs/Talleres/>Talleres</a></label><ul><li><a href=/RGB/docs/Talleres/Main-Spaces/>Main Spaces</a></li><li><a href=/RGB/docs/Talleres/visual_ilusions/>Visual Ilusions</a></li><li><a href=/RGB/docs/Talleres/visual_Masking/>Visual Masking</a></li></ul></li></ul><ul><li><a href=/RGB/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/RGB/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Ejercicio3</strong>
<label for=toc-control><img src=/RGB/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ejercicio-3>Ejercicio 3</a></li><li><a href=#dithering>Dithering</a><ul><li><a href=#random-dither>Random dither</a></li><li><a href=#ordered-dithering>Ordered Dithering</a></li></ul></li><li><a href=#aplicaciones>Aplicaciones</a></li><li><a href=#código>Código</a><ul><li><a href=#imagen-original>Imagen original</a></li><li><a href=#dithering-1>Dithering</a></li></ul></li><li><a href=#conclusión>Conclusión</a></li><li><a href=#bibliografía>Bibliografía</a></li></ul></nav></aside></header><article class=markdown><h1 id=ejercicio-3>Ejercicio 3
<a class=anchor href=#ejercicio-3>#</a></h1><blockquote class="book-hint info"><strong>Ejercicio 3</strong><br>Research some dither visual apps.</blockquote><h1 id=dithering>Dithering
<a class=anchor href=#dithering>#</a></h1><p><img src=https://149695847.v2.pressablecdn.com/wp-content/uploads/2021/12/image-66.png alt=Dithering title="Reducción de la profundidad de color de una imagen."></p><p>Es una técnica usada en computación gráfica para crear la ilusión de profundidad de color en imágenes con una paleta de colores limitada. En una imagen tramada, los colores no disponibles en la paleta se aproximan por una difusión de píxeles de color dentro de la gama de colores disponibles. El ojo humano percibe la difusión como una mezcla de los colores dentro de ésta. El tramado es análoga a la técnica denominada semitonos utilizada en impresión. Las imágenes tramadas, en particular las que tienen relativamente pocos colores, a menudo se distinguen por un grado de granulosidad característico o por un aspecto moteado.</p><p><img src=https://proyectoidis.org/wp-content/uploads/2015/07/dithering.gif alt=Dithering title="Reducción de la profundidad de los colores."></p><p>La reducción de la profundidad de color de una imagen a menudo puede tener importantes efectos secundarios visuales. Si la imagen original es una fotografía, es probable que tenga miles o incluso millones de distintos colores. El proceso de limitar los colores disponibles a una paleta de colores específica efectivamente quita una cierta cantidad de información de color.</p><h2 id=random-dither>Random dither
<a class=anchor href=#random-dither>#</a></h2><p>El Random dither puede considerarse como el proceso de convertir una imagen en escala de grises en una imagen en blanco y negro o monocromática. La razón de ser aleatoria es que el proceso funciona eligiendo al azar los valores de los píxeles de la imagen. Si el valor del píxel es mayor que el valor aleatorio del píxel, entonces se convierte en blanco, y si no, el lugar de la imagen se convierte en negro.</p><p><img src=https://149695847.v2.pressablecdn.com/wp-content/uploads/2021/12/image-68.png alt=Dithering title="Imagen original">
<img src=https://149695847.v2.pressablecdn.com/wp-content/uploads/2021/12/image-69.png alt=Dithering title="Random dithering"></p><h2 id=ordered-dithering>Ordered Dithering
<a class=anchor href=#ordered-dithering>#</a></h2><p>Este tipo de proceso de dithering también se utiliza para la conversión de imágenes en color en monocromo. Pero este proceso funciona eligiendo un patrón diferente de la imagen dependiendo del color que se presente en el área de trabajo de la imagen. La siguiente imagen es la representación de este tipo de dithering.</p><p><img src=https://149695847.v2.pressablecdn.com/wp-content/uploads/2021/12/image-72.png alt=Dithering title="Imagen original">
<img src=https://149695847.v2.pressablecdn.com/wp-content/uploads/2021/12/image-73.png alt=Dithering title="Ordered  Dithering"></p><h1 id=aplicaciones>Aplicaciones
<a class=anchor href=#aplicaciones>#</a></h1><ul><li><p>La visualización de gráficos con precisión es una de las aplicaciones más comunes del dithering. Por ejemplo, podemos mostrar una imagen que contenga millones de colores en un hardware capaz de mostrar 256 colores a la vez utilizando el dithering.</p></li><li><p>El GIF puede considerarse como un vídeo de pequeño tamaño en el que las imágenes se encadenan para mostrar la variación en el cuadro. El Dithering resulta muy útil en la creación de gifs porque ayuda a reducir el tamaño de la imagen, lo que proporciona una velocidad adecuada a la variedad de imágenes en el marco y también es útil para gestionar la calidad de la imagen.</p></li></ul><h1 id=código>Código
<a class=anchor href=#c%c3%b3digo>#</a></h1><details><summary>Implementation of the Floyd-Steinberg Dithering algorithm</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Modificado de https://editor.p5js.org/codingtrain/sketches
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>factor</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>; <span style=color:#75715e>//If it is equal to 1 and there is a gray filter there will be only two colors. 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>wd</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>d</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;imagen&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>c</span><span style=color:#f92672>=</span><span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>,<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pixelDensity</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>GRAY</span>);  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>wd</span><span style=color:#f92672>=</span><span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>d</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixelDensity</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>g</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>newR</span><span style=color:#f92672>=</span><span style=color:#a6e22e>find_closest_palette_color</span>(<span style=color:#a6e22e>r</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>newG</span><span style=color:#f92672>=</span><span style=color:#a6e22e>find_closest_palette_color</span>(<span style=color:#a6e22e>g</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>newB</span><span style=color:#f92672>=</span><span style=color:#a6e22e>find_closest_palette_color</span>(<span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>newA</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>find_closest_palette_color</span>(<span style=color:#a6e22e>a</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>newR</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>newG</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>newB</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>newA</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//Calculating quantization error of a pixel.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>quant_error_R</span><span style=color:#f92672>=</span><span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>newR</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>quant_error_G</span><span style=color:#f92672>=</span><span style=color:#a6e22e>g</span><span style=color:#f92672>-</span><span style=color:#a6e22e>newG</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>quant_error_B</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b</span><span style=color:#f92672>-</span><span style=color:#a6e22e>newB</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>quant_error_A</span><span style=color:#f92672>=</span><span style=color:#a6e22e>a</span><span style=color:#f92672>-</span><span style=color:#a6e22e>newA</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>//
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_R</span><span style=color:#f92672>*</span><span style=color:#ae81ff>7</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>g</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_G</span><span style=color:#f92672>*</span><span style=color:#ae81ff>7</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>b</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_B</span><span style=color:#f92672>*</span><span style=color:#ae81ff>7</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_A</span><span style=color:#f92672>*</span><span style=color:#ae81ff>7</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_R</span><span style=color:#f92672>*</span><span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>g</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_G</span><span style=color:#f92672>*</span><span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>b</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_B</span><span style=color:#f92672>*</span><span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_A</span><span style=color:#f92672>*</span><span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_R</span><span style=color:#f92672>*</span><span style=color:#ae81ff>5</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>g</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_G</span><span style=color:#f92672>*</span><span style=color:#ae81ff>5</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>b</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_B</span><span style=color:#f92672>*</span><span style=color:#ae81ff>5</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_A</span><span style=color:#f92672>*</span><span style=color:#ae81ff>5</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_R</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>g</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_G</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>b</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_B</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>a</span><span style=color:#f92672>=</span>  <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>]<span style=color:#f92672>+</span>(<span style=color:#a6e22e>quant_error_A</span><span style=color:#f92672>*</span><span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16.0</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Quantization operation. 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>find_closest_palette_color</span>(<span style=color:#a6e22e>old</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>factor</span><span style=color:#f92672>*</span><span style=color:#a6e22e>old</span><span style=color:#f92672>/</span><span style=color:#ae81ff>255</span>)<span style=color:#f92672>*</span>(<span style=color:#ae81ff>255</span><span style=color:#f92672>/</span><span style=color:#a6e22e>factor</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Returns the initial index of a pixel located at (x,y). 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getIndex</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span>(<span style=color:#a6e22e>y</span><span style=color:#f92672>*</span><span style=color:#a6e22e>wd</span>))<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><h2 id=imagen-original>Imagen original
<a class=anchor href=#imagen-original>#</a></h2><p><img src=https://raw.githubusercontent.com/ineventhorizon/Floyd-Steinberg-Dithering-Javascript-p5js/master/images/cat.png alt=Dithering title="Imagen original"></p><h2 id=dithering-1>Dithering
<a class=anchor href=#dithering-1>#</a></h2><iframe id=breath style=width:760px;height:800px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
let img;
var factor=1; //If it is equal to 1 and there is a gray filter there will be only two colors. 
var wd;
var d;


function preload() {
    img = loadImage('https://raw.githubusercontent.com/ineventhorizon/Floyd-Steinberg-Dithering-Javascript-p5js/master/images/cat.png');
}

function setup() {
    let c=createCanvas(img.width,img.height);
    background(255, 255, 255);
    pixelDensity(1);
    image(img,0,0);
    filter(GRAY);  
    wd=img.width;
    loadPixels();
    d = pixelDensity();
    for (let y = 0; y < height-1; y++) {
        for (let x = 1; x < width-1; x++){

            var index = getIndex(x,y);
            
            var r=  pixels[index];
            var g=  pixels[index + 1];
            var b=  pixels[index + 2];
            var a=  pixels[index + 3];

            var newR=find_closest_palette_color(r);
            var newG=find_closest_palette_color(g);
            var newB=find_closest_palette_color(b);
            var newA=  find_closest_palette_color(a);

            pixels[index] = newR;
            pixels[index + 1] = newG;
            pixels[index + 2] = newB;
            pixels[index + 3] = newA;


            //Calculating quantization error of a pixel.
            var quant_error_R=r-newR;
            var quant_error_G=g-newG;
            var quant_error_B=b-newB;
            var quant_error_A=a-newA;

            //
            index = getIndex(x+1,y);
            r=  pixels[index]+(quant_error_R*7/16.0);
            g=  pixels[index + 1]+(quant_error_G*7/16.0);
            b=  pixels[index + 2]+(quant_error_B*7/16.0);
            a=  pixels[index + 3]+(quant_error_A*7/16.0);
            pixels[index] = r;
            pixels[index + 1] = g;
            pixels[index + 2] = b;
            pixels[index + 3] = a;

            index = getIndex(x-1,y+1);
            r=  pixels[index]+(quant_error_R*3/16.0);
            g=  pixels[index + 1]+(quant_error_G*3/16.0);
            b=  pixels[index + 2]+(quant_error_B*3/16.0);
            a=  pixels[index + 3]+(quant_error_A*3/16.0);
            pixels[index] = r;
            pixels[index + 1] = g;
            pixels[index + 2] = b;
            pixels[index + 3] = a;

            index = getIndex(x,y+1);
            r=  pixels[index]+(quant_error_R*5/16.0);
            g=  pixels[index + 1]+(quant_error_G*5/16.0);
            b=  pixels[index + 2]+(quant_error_B*5/16.0);
            a=  pixels[index + 3]+(quant_error_A*5/16.0);
            pixels[index] = r;
            pixels[index + 1] = g;
            pixels[index + 2] = b;
            pixels[index + 3] = a;

            index = getIndex(x+1,y+1);
            r=  pixels[index]+(quant_error_R*1/16.0);
            g=  pixels[index + 1]+(quant_error_G*1/16.0);
            b=  pixels[index + 2]+(quant_error_B*1/16.0);
            a=  pixels[index + 3]+(quant_error_A*1/16.0);
            pixels[index] = r;
            pixels[index + 1] = g;
            pixels[index + 2] = b;
            pixels[index + 3] = a;
        }
      }
    updatePixels();
}

//Quantization operation. 
function find_closest_palette_color(old){
    return round(factor*old/255)*(255/factor)
}

//Returns the initial index of a pixel located at (x,y). 
function getIndex(x,y){
    return (x+(y*wd))*4;
}

            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h1 id=conclusión>Conclusión
<a class=anchor href=#conclusi%c3%b3n>#</a></h1><p>El uso de dithering tiene la ventaja de que, tras la primera reducción, la imagen puede mostrarse en su forma de baja calidad. para comprimir la imagen, hasta cierto punto medida es beneficioso en términos de almacenamiento y transmisión, debido a la baja asignación de recursos necesaria para
la imagen. Por último, realizar una compresión sin pérdidas utilizando el Ordered Dithering puede ser
ventajoso en términos de conversión de imágenes en color en monocromo.</p><h1 id=bibliografía>Bibliografía
<a class=anchor href=#bibliograf%c3%ada>#</a></h1><ul><li><a href=https://analyticsindiamag.com/what-is-dithering-in-image-processing-and-how-it-maintains-image-quality/>What is Dithering in Image Processing and How it Maintains Image Quality?</a> por Yugesh Verma</li><li><a href=https://proyectoidis.org/dithering/>Dithering</a>, Por piavivo</li><li><a href=https://www.cs.princeton.edu/courses/archive/fall00/cs426/lectures/dither/dither.pdf>Image Quantization, Halftoning, and Dithering</a>, Por Thomas Funkhouser, Princeton University</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/emmendezp/RGB/commit/57b3b34ffd05f5bd907a77f34e5e0a635ff43afa title='Last modified by jjmunozq | September 12, 2022' target=_blank rel=noopener><img src=/RGB/svg/calendar.svg class=book-icon alt=Calendar>
<span>September 12, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ejercicio-3>Ejercicio 3</a></li><li><a href=#dithering>Dithering</a><ul><li><a href=#random-dither>Random dither</a></li><li><a href=#ordered-dithering>Ordered Dithering</a></li></ul></li><li><a href=#aplicaciones>Aplicaciones</a></li><li><a href=#código>Código</a><ul><li><a href=#imagen-original>Imagen original</a></li><li><a href=#dithering-1>Dithering</a></li></ul></li><li><a href=#conclusión>Conclusión</a></li><li><a href=#bibliografía>Bibliografía</a></li></ul></nav></div></aside></main></body></html>